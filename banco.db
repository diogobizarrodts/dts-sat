import os
import sqlite3
from flask import current_app

def init_db():
    db_path = current_app.config['DATABASE']
    db_dir = os.path.dirname(db_path)

    if not os.path.exists(db_dir):
        os.makedirs(db_dir)

    if not os.path.exists(db_path):
        conn = sqlite3.connect(db_path)
        # Aqui você pode criar as tabelas necessárias
        conn.execute('CREATE TABLE IF NOT EXISTS example (id INTEGER PRIMARY KEY)')
        conn.commit()
        conn.close()
